<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta name="generator" content="Doxygen 1.8.18" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Music Collection: Описание на Музикалната колекция</title>
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="navtree.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="resize.js"></script>
  <script type="text/javascript" src="navtreedata.js"></script>
  <script type="text/javascript" src="navtree.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="search/searchdata.js"></script>
  <script type="text/javascript" src="search/search.js"></script>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <style>
    #menu,
    #criteria {
      display: flex;
      justify-content: space-around;
      padding: 50px;
      border: 10px solid greenyellow;
    }

    #menu ul,
    #criteria p {

      display: inline-block;
    }

    #special:link,
    #special:visited {
      border: 2px solid black;
      text-decoration: none;
      color: black;
      padding: 10px;
    }

    #special:hover {
      background-color: greenyellow;
    }
  </style>
</head>

<body>
  <div id="top">
    <!-- do not remove this div, it is closed by doxygen! -->
    <div id="titlearea">
      <table cellspacing="0" cellpadding="0">
        <tbody>
          <tr style="height: 56px;">
            <td id="projectlogo"><img alt="Logo" src="MusicCollectionLogo.png" /></td>
            <td id="projectalign" style="padding-left: 0.5em;">
              <div id="projectname">Music Collection
                &#160;<span id="projectnumber">0.0.1</span>
              </div>
              <div id="projectbrief">Автор: Николай Желязков</div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <!-- end header part -->
    <!-- Generated by Doxygen 1.8.18 -->
    <script type="text/javascript">
      /* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
      var searchBox = new SearchBox("searchBox", "search", false, 'Search');
/* @license-end */
    </script>
    <script type="text/javascript" src="menudata.js"></script>
    <script type="text/javascript" src="menu.js"></script>
    <script type="text/javascript">
      /* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
      $(function () {
        initMenu('', true, false, 'search.php', 'Search');
        $(document).ready(function () { init_search(); });
      });
/* @license-end */</script>
    <div id="main-nav"></div>
  </div><!-- top -->
  <div id="side-nav" class="ui-resizable side-nav-resizable">
    <div id="nav-tree">
      <div id="nav-tree-contents">
        <div id="nav-sync" class="sync"></div>
      </div>
    </div>
    <div id="splitbar" style="-moz-user-select:none;" class="ui-resizable-handle">
    </div>
  </div>
  <script type="text/javascript">
    /* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
    $(document).ready(function () { initNavTree('index.html', ''); initResizable(); });
/* @license-end */
  </script>
  <div id="doc-content">
    <!-- window showing the filter options -->
    <div id="MSearchSelectWindow" onmouseover="return searchBox.OnSearchSelectShow()"
      onmouseout="return searchBox.OnSearchSelectHide()" onkeydown="return searchBox.OnSearchSelectKey(event)">
    </div>

    <!-- iframe showing the search results (closed by default) -->
    <div id="MSearchResultsWindow">
      <iframe src="javascript:void(0)" frameborder="0" name="MSearchResults" id="MSearchResults">
      </iframe>
    </div>

    <div class="PageDoc">
      <div class="header">
        <div class="headertitle">
          <div class="title">Описание на Музикалната колекция </div>
        </div>
      </div>
      <!--header-->
      <div class="contents">
        <div class="textblock">
          <p><a class="anchor" id="md_Resources_Header"></a></p>
          <h4><a class="anchor" id="autotoc_md0"></a>
            <a id="special" href="https://github.com/nikizhelqzkov/Music_Collection">Линк към сорса</a>
          </h4>
          <h1><a class="anchor " id="autotoc_md1"></a>
            Описание на конзолния интерфейс</h1>
          <p>Конзолата се стартира и те пита дали желаеш да се Логнеш или Регистрираш. При логин ти иска username и
            password. При регистрация системата иска username, password, Full name, Дата на раждане и любими жанрове
            музика.</p>
          <p>След логин или регистър се стартира меню, в което имаш 7 избора:</p>
          <div id="menu">
            <ul>
              <li>Редактиране на данни в профила</li>
              <li>Добавяне на песен към системата</li>
              <li>Генериране на плейлиста по критерии</li>
              <li>Зареждане на плейлиста по име</li>
              <li>Информация на песните от плейлиста по име</li>
              <li>Задаване на рейтинг за някоя песен</li>
              <li>Изход</li>
            </ul>
            <img src="../../assets/menu.jpg" alt="МЕНЮ СНИМКА" class="inline" width="250" height="250" />
          </div>
          <h2><a class="anchor" id="autotoc_md2"></a>
            Редактиране на данните на профила</h2>
          <p>Редактират се данните от класа USER</p>
          <h2><a class="anchor" id="autotoc_md3"></a>
            Добавяне на песен към системата</h2>
          <p>Попълваш исканите данни за песента и тя се добавя в ситемата</p>
          <h2><a class="anchor" id="autotoc_md4"></a>
            Генериране на плейлиста по критерии</h2>
          <p>Системата създава плейлиста по зададен размер на плейлиста(до 20 песни), брой критерии и комбинации от
            логически операции с избраните критерии</p>
          <h2><a class="anchor" id="autotoc_md5"></a>
            Зареждане на плейлиста по име</h2>
          <p>Написваш името на валидна твоя плейлиста и си избираш песен от нея</p>
          <h2><a class="anchor" id="autotoc_md6"></a>
            Информация на песните от плейлиста по име</h2>
          <p>Написваш името на валидна твоя плейлиста и получаваш информация за всички песни в плейлистата</p>
          <h2><a class="anchor" id="autotoc_md7"></a>
            Задаване на рейтинг за някоя песен</h2>
          <p>Задаваш рейтинг на валидна песен, но имаш право само на 1 гласуване за нея</p>
          <h2><a class="anchor" id="autotoc_md8"></a>
            Изход</h2>
          <p>Системата спира</p>
          <h1><a class="anchor" id="autotoc_md9"></a>
            Съхранение на данни</h1>
          <p>Всички данни се пазят във файлове с txt формат. Всеки потребител му се създава файл с данните, който се
            казва така, както му се казва потребителското име. При промяна на потребителското име, файла се изтрива и се
            създава нов файл с новото име и старите данни.</p>
          <p>Файла с всички песни се казва <a class="el" href="_songs_8txt.html">Songs.txt</a> и в него освен песните се
            пазят: рейтинг на самата песен, кой е гласувал за нея вече(за да не може да гласува отново) и всички
            рейтинги на всеки потребител. В него най-отпред стои числото, което показва колко песни има в ситемата.</p>
          <h1><a class="anchor" id="autotoc_md10"></a>
            Използваните структури</h1>
          <p>Всеки клас има различни използвани структури, но на първо място по ползваемост като контейнер е Вектора.
          </p>
          <p>Най-често във вектора се ползва Типа SONG.</p>
          <p>В генератора на плейлисти са използвани и други структури: опашка за последователно четене на критерии,
            опашка за последователно четене на логически операциио и map за защита против повтаряне на критерии в
            изискванията на потребителя.</p>
          <p>Има и други използвани типове чрез вектор. Причината за използвана не вектор е това, че е лесен за
            обхождане, благодарение на своя итератор и операциите за достъпване на елемент.</p>
          <h1><a class="anchor" id="autotoc_md11"></a>
            Основни алгоритми в Музикалната колекция</h1>
          <h2><a class="anchor" id="autotoc_md12"></a>
            Login проверката и проверка за съществуващ профил при регистрация</h2>
          <p>При въведени данни в зона Логин, системата търси файл с име, което е същото като това от въведения username
            + .txt. Ако има такъв файл, се отваря и се проверява дали паролата е същата като тази от потребителските
            данни на вход. Ако и двете проверки минат, се отваря файла с потребителските му данни и системата отваря
            меню, чрез което потребителя да работи в системата. При грешни данни потребителя бива върнат към началото на
            програмата.</p>
          <p>Ако потребителя се регистрира, системата проверява дали съществува такова потребителско име. Ако
            съществува, тогава системата желае от потребителя да въведе ново такова. При успешна регистрация, се създава
            файл, в който му се пазят всички данни.</p>
          <h2><a class="anchor" id="autotoc_md13"></a>
            Работа с файловете на всеки потребител и на песните</h2>
          <p>Данните се записват на един ред с цел Минифициране и трудно четене на данни директно от самия файл.Всеки
            статус се отделя от друг с ';'. За четене от файл се ползва seekg с точна бройка, къде да се поставя
            пойнтъра и също се ползва getline до прочитане на ';', за безпроблемно извличане на инфрормация от файла и
            лесно предаване на данните към класовете.</p>
          <h2><a class="anchor" id="autotoc_md14"></a>
            Редактиране на данни на потребител</h2>
          <p>Файла на потребителя е отворен, и всички негови данни са в класа USER. Когато трябва да се променят данни
            като парола, любими жанрове, дата на раждане и т.н, тогава се променят данните в класа и се поставя новата
            информация във файла на потребителя. Ако се редактира потребителското име, тогава се сменя файла(стария се
            изтрива и се създава нов с новото име), с помощта на файловите потоци, а стария файл се изтрива с помощта на
            std::remove</p>
          <h2><a class="anchor" id="autotoc_md15"></a>
            Добавяне на песен в системата</h2>
          <p>След като се попълнят исканите данни за песента, се създава обект Песен, който се пушка във вектора от
            песни и се отпчетва новата информация във файла с песните.</p>
          <h2><a class="anchor" id="autotoc_md16"></a>
            Генериране на плейлиста</h2>
          <p>Първо вземаме от потребителя желаната бройка песни в плейлистата.</p>
          <p>Потребителя избира колко от четирите критерия да използва.Ако има повече от 1 критерий, тогава освен номер
            на критерий избира и логическа операция(&amp; или |)</p>
          <p>За да няма повтаряне на критерии, 4те критерия се пазят в мап с ключ номер от 1 до 4 и стойност 0 или 1 и
            не се разрешава добавяне на критерии, чиито ключ има стойност равна на 1.</p>
          <p>Критериите се записват по ред и преоритет, като всеки по-ранен имам повече проценти възможност за добавяне
            на песни спрямо изискваната големина на плейлистата.За пазене на преоритет, данните се вкарват в опашка от
            номера критерии и също така се добавят в друга опашка логическите операции.</p>
          <p>Извличат се данните от опашките и се вземат от токенизатор, който разбира кой критерии да използва. Също
            така според броя искани критерии и логическите операции има 15 варианта на добавяне на песни, като след като
            се вземат песните от даден критерий, се сортират и чак тогава се добавят.</p>
          <div id="criteria">
            <p>Ето снимка на идеята за повече от 1 критерий:</p>
            <img src="../../assets/generate.png" alt="GENERATE ALGORITHM" class="inline" width="250" height="250" />
          </div>
          <p>След като си е добавило песните, системата известява колко песни е добавила от всеки критерий.</p>
          <p>Ако не е добавило никакви песни, защото критериите не са намерили подходящи песни, тогава системата връща
            потребителя в основното меню.</p>
          <p>Ако е намерило поне 1 песен, тогава потребителя трябвада си избере име на плейлистата и след това се
            създава класа <a class="el" href="class_playlist.html"
              title="Клас пазещ данните за една плейлиста">Playlist</a> и се добавя към класа <a class="el"
              href="class_user.html" title="Класа пазещ информацията за даден потребител">User</a>, и се печата във
            файла на потребителя.</p>
          <h1><a class="anchor" id="autotoc_md17"></a>
            Повече информация има в DOXYGEN документацията</h1>
        </div>
      </div><!-- PageDoc -->
    </div><!-- contents -->
  </div><!-- doc-content -->
  <!-- start footer part -->
  <div id="nav-path" class="navpath">
    <!-- id is needed for treeview function! -->
    <ul>
      <li class="footer">Author: Nikolay Zhelyazkov

      </li>
    </ul>
  </div>
</body>

</html>